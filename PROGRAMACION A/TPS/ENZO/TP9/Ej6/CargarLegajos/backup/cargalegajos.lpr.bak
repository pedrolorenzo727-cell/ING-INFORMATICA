program cargalegajos;

type
  ST5 = string[5];
  ST15 = string[15];
  TRegLeg = record
    legajo : ST5;
    nombre : ST15;
    total, mayorV : real;
    nMayorV : byte;
  end;

  TArchLeg = file of TRegLeg;

procedure cargarLegajos (var legajos : TArchLeg);
var
  archE : text;
  reg : TRegLeg;
  car : char;
begin
  assign(archE, 'cargaLegajos.txt');
  reset(archE);
  rewrite(legajos);
  while not eof(archE) do
  begin
    readln(archE, reg.legajo, car, reg.nombre, reg.total, reg.mayorV, reg.nMayorV);
    write(legajos, reg);
  end;
  close(archE);
  close(legajos);
end;

procedure listarLegajos (var legajos : TArchLeg);
var
  reg : TRegLeg;
begin
  reset(legajos);
  while not eof(legajos) do
  begin
       read(legajos, reg);
    writeln(reg.legajo);
    writeln(reg.nombre);
    writeln(reg.total:4:2);
    writeln(reg.mayorV:4:2);
    writeln(reg.nMayorV);
    writeln('safafda');
  end;
  close(legajos);
end;

var
  legajos : TArchLeg;

begin
  assign(legajos, 'Legajos.dat');
  cargarLegajos(legajos);
  listarLegajos(legajos);
  readln();
end.

